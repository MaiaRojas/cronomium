{"ast":null,"code":"import _classCallCheck from\"/home/discovery/Documentos/repos/work/clock--ie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/discovery/Documentos/repos/work/clock--ie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/discovery/Documentos/repos/work/clock--ie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/discovery/Documentos/repos/work/clock--ie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/discovery/Documentos/repos/work/clock--ie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/discovery/Documentos/repos/work/clock--ie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{withStyles}from'@material-ui/core/styles';import{Link}from'react-router-dom';import Chip from'@material-ui/core/Chip';import Fab from'@material-ui/core/Fab';import ListItem from'@material-ui/core/ListItem';import ListItemText from'@material-ui/core/ListItemText';import Stopwatch from'../components/time';import sortByTime from'../utils/sort';import WatchList from'../components/watch-list';var styles=function styles(theme){return{root:{display:'flex',justifyContent:'center',alignItems:'center',minHeight:'100vh',backgroundColor:'#000',textAlign:'center',flexDirection:'column'},list:{textAlign:'center'},primary:{color:'#FFF',fontWeight:'700',fontSize:theme.typography.fontSize,lineHeight:'125%'},secondary:{color:'#FFF',fontSize:'14px'},delete:{backgroundColor:'#E7A997','&:hover':{backgroundColor:'#E7A997 !important'}},history:{backgroundColor:'#97E7DB','&:hover':{backgroundColor:'#97E7DB !important'}},section:{display:'flex',justifyContent:'space-between',backgroundColor:'#333'}};};var StopwatchControls=function StopwatchControls(_ref){var onToggle=_ref.onToggle,running=_ref.running;return React.createElement(Fab,{style:{width:80,height:80,textTransform:'none',backgroundColor:'#97E7DB'},onClick:onToggle},running?'Stop':'Start');};var bestTime=function bestTime(attempts){return attempts.sort(sortByTime)[0].time;};var averageTime=function averageTime(attempts){return attempts.reduce(function(acc,current){return acc+current.time;},0)/attempts.length;};var Clock=/*#__PURE__*/function(_React$Component){_inherits(Clock,_React$Component);function Clock(props){var _this;_classCallCheck(this,Clock);_this=_possibleConstructorReturn(this,_getPrototypeOf(Clock).call(this,props));_this.state={time:0,running:false,date:''};_this.toggle=_this.toggle.bind(_assertThisInitialized(_this));_this.tick=_this.tick.bind(_assertThisInitialized(_this));return _this;}_createClass(Clock,[{key:\"toggle\",value:function toggle(){if(!this.state.running){this.startTime=Date.now();this.tick();}else{var dataLocal=JSON.parse(localStorage.getItem('attempts'));if(dataLocal){dataLocal.push({time:this.state.time,date:new Date()});localStorage.setItem('attempts',JSON.stringify(dataLocal));}else{localStorage.setItem('attempts',JSON.stringify([{time:this.state.time,date:new Date()}]));}this.update(false);this.setState({time:0});clearTimeout(this.timeout);}}},{key:\"tick\",value:function tick(){this.update(true);this.timeout=setTimeout(this.tick);}},{key:\"update\",value:function update(running){this.setState({time:Date.now()-this.startTime,running:running});}},{key:\"resetAll\",value:function resetAll(){localStorage.removeItem('attempts');}},{key:\"render\",value:function render(){var classes=this.props.classes;var attempts=JSON.parse(localStorage.getItem('attempts'))||[];return React.createElement(\"div\",{className:classes.root},React.createElement(\"div\",{className:\"stopwatch\"},React.createElement(\"h2\",{style:{color:'#97E7DB'}},\"Cronomium\"),React.createElement(\"section\",{style:{height:200}},React.createElement(\"div\",{style:{color:'#fff'}},React.createElement(Stopwatch,{time:this.state.time,format:\"time\"})),React.createElement(StopwatchControls,{onToggle:this.toggle,running:this.state.running})),React.createElement(\"section\",{className:classes.section},React.createElement(ListItem,{style:{padding:0}},React.createElement(ListItemText,{classes:{root:classes.list,primary:classes.primary,secondary:classes.secondary},primary:\"Best Time\",secondary:attempts.length>0?React.createElement(Stopwatch,{time:bestTime(attempts),format:\"home\"}):'00:00:00'})),React.createElement(ListItem,null,React.createElement(ListItemText,{classes:{root:classes.list,primary:classes.primary,secondary:classes.secondary},primary:\"Average Time\",secondary:attempts.length>0?React.createElement(Stopwatch,{time:averageTime(attempts),format:\"home\"}):'00:00:00'}))),React.createElement(\"section\",null,attempts.length>0&&React.createElement(WatchList,{attempts:attempts,format:\"home\"})),React.createElement(\"section\",{className:classes.section},React.createElement(Link,{to:\"/\"},React.createElement(Chip,{label:\"Reset all\",clickable:true,onClick:this.resetAll,classes:{root:classes.delete},variant:\"outlined\"})),React.createElement(Link,{to:\"/history\"},React.createElement(Chip,{label:\"History\",clickable:true,classes:{root:classes.history},variant:\"outlined\"})))));}}]);return Clock;}(React.Component);export default withStyles(styles)(Clock);","map":{"version":3,"sources":["/home/discovery/Documentos/repos/work/clock--ie/src/containers/clock.jsx"],"names":["React","withStyles","Link","Chip","Fab","ListItem","ListItemText","Stopwatch","sortByTime","WatchList","styles","theme","root","display","justifyContent","alignItems","minHeight","backgroundColor","textAlign","flexDirection","list","primary","color","fontWeight","fontSize","typography","lineHeight","secondary","delete","history","section","StopwatchControls","onToggle","running","width","height","textTransform","bestTime","attempts","sort","time","averageTime","reduce","acc","current","length","Clock","props","state","date","toggle","bind","tick","startTime","Date","now","dataLocal","JSON","parse","localStorage","getItem","push","setItem","stringify","update","setState","clearTimeout","timeout","setTimeout","removeItem","classes","padding","resetAll","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport Chip from '@material-ui/core/Chip';\nimport Fab from '@material-ui/core/Fab';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\n\nimport Stopwatch from '../components/time';\nimport sortByTime from '../utils/sort';\nimport WatchList from '../components/watch-list';\n\n\nconst styles = (theme)=> ({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: '100vh',\n    backgroundColor: '#000',\n    textAlign: 'center',\n    flexDirection: 'column',\n  },\n  list: {\n    textAlign: 'center',\n  },\n  primary: {\n    color: '#FFF',\n    fontWeight: '700',\n    fontSize: theme.typography.fontSize,\n    lineHeight: '125%',\n  },\n  secondary: {\n    color: '#FFF',\n    fontSize: '14px',\n  },\n  delete: {\n    backgroundColor: '#E7A997',\n    '&:hover': {\n      backgroundColor: '#E7A997 !important',\n    },\n  },\n  history: {\n    backgroundColor: '#97E7DB',\n    '&:hover': {\n      backgroundColor: '#97E7DB !important',\n    },\n  },\n  section: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    backgroundColor: '#333',\n  }\n});\n\nconst StopwatchControls = ({ onToggle, running}) =>\n  <Fab style={{ width: 80, height: 80, textTransform: 'none', backgroundColor: '#97E7DB' }} onClick={onToggle}>\n    {running ? 'Stop' : 'Start'}\n  </Fab>\n\nconst bestTime = (attempts) => attempts.sort(sortByTime)[0].time;\n\nconst averageTime = (attempts) => attempts\n    .reduce((acc, current) => acc + current.time, 0) / attempts.length\n\nclass Clock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      time: 0,\n      running: false,\n      date: '',\n    };\n    this.toggle = this.toggle.bind(this);\n    this.tick = this.tick.bind(this);\n  }\n  toggle() {\n    if (!this.state.running) {\n      this.startTime = Date.now();\n      this.tick();\n    } else {\n      const dataLocal = JSON.parse(localStorage.getItem('attempts'));\n      if (dataLocal){\n        dataLocal.push({ time: this.state.time, date: new Date() })\n        localStorage.setItem('attempts', JSON.stringify(dataLocal));\n      } else{\n        localStorage.setItem('attempts', JSON.stringify([{ time: this.state.time, date: new Date() }]))\n      }\n      this.update(false);\n      this.setState({ time: 0 });\n      clearTimeout(this.timeout);\n    }\n  }\n  tick() {\n    this.update(true);\n    this.timeout = setTimeout(this.tick);\n  }\n  update(running) {\n    this.setState({\n      time: Date.now() - this.startTime,\n      running\n    });\n  }\n  resetAll () {\n    localStorage.removeItem('attempts')\n  }\n  render() {\n    const { classes } = this.props;\n    const attempts = JSON.parse(localStorage.getItem('attempts')) || [];\n    return (\n      <div className={classes.root}>\n        <div className=\"stopwatch\">\n          <h2 style={{ color: '#97E7DB' }}>Cronomium</h2>\n          <section style={{ height: 200 }}>\n            <div style={{ color: '#fff'}}>\n              <Stopwatch time={this.state.time} format='time' />\n            </div>\n            <StopwatchControls onToggle={this.toggle} running={this.state.running} />\n          </section>\n\n          <section className={classes.section}>\n            <ListItem style={{ padding: 0 }}>\n              <ListItemText\n                classes={{\n                  root: classes.list,\n                  primary: classes.primary,\n                  secondary: classes.secondary,\n                }}\n                primary='Best Time'\n                secondary={attempts.length > 0\n                  ? <Stopwatch time={bestTime(attempts)} format='home' />\n                  : '00:00:00'\n                }\n              />\n            </ListItem>\n            <ListItem>\n              <ListItemText\n                classes={{\n                  root: classes.list,\n                  primary: classes.primary,\n                  secondary: classes.secondary,\n                }}\n                primary='Average Time'\n                secondary={attempts.length > 0\n                  ? <Stopwatch time={averageTime(attempts)} format='home' />\n                  : '00:00:00'\n                }\n              />\n            </ListItem>\n          </section>\n\n          <section>\n            {attempts.length > 0 && (\n              <WatchList attempts={attempts} format='home' />\n            )}\n          </section>\n\n          <section className={classes.section}>\n            <Link to={`/`}>\n              <Chip\n                label=\"Reset all\"\n                clickable\n                onClick={this.resetAll}\n                classes={{\n                  root: classes.delete\n                }}\n                variant=\"outlined\"\n              />\n            </Link>\n            <Link to={`/history`}>\n              <Chip\n                label=\"History\"\n                clickable\n                classes={{\n                  root: classes.history\n                }}\n                variant=\"outlined\"\n              />\n            </Link>\n          </section>\n        </div>\n      </div>\n    );\n  }\n}\n\nClock.propTypes = {\n  classes: PropTypes.shape({\n    root: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\n\nexport default withStyles(styles)(Clock);\n"]},"metadata":{},"sourceType":"module"}