{"ast":null,"code":"import _classCallCheck from\"/home/discovery/Documentos/repos/work/clock--ie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/discovery/Documentos/repos/work/clock--ie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/discovery/Documentos/repos/work/clock--ie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/discovery/Documentos/repos/work/clock--ie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/discovery/Documentos/repos/work/clock--ie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/discovery/Documentos/repos/work/clock--ie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _objectSpread from\"/home/discovery/Documentos/repos/work/clock--ie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from'react';import{withStyles}from'@material-ui/core/styles';import{Link}from'react-router-dom';import Card from'@material-ui/core/Card';import CardContent from'@material-ui/core/CardContent';import Chip from'@material-ui/core/Chip';import DeleteIcon from'@material-ui/icons/Delete';import Fab from'@material-ui/core/Fab';import{Typography}from'@material-ui/core';import TimelineIcon from'@material-ui/icons/Timeline';import Stopwatch from'../components/time';import sortByTime from'../utils/sort';import WatchList from'../components/watch-list';var styles=function styles(theme){return{root:{display:'flex',justifyContent:'center',alignItems:'center',minHeight:'100vh',backgroundColor:'#000',textAlign:'center',flexDirection:'column'}};};var StopwatchControls=function StopwatchControls(_ref){var onToggle=_ref.onToggle,running=_ref.running;return React.createElement(Fab,{onClick:onToggle},running?'Stop':'Start');};var bestTime=function bestTime(attempts){if(attempts.length===0){return'00:00:00';}var best=attempts.sort(sortByTime)[0];return Stopwatch(_objectSpread({},best,{format:'home'}));};var averageTime=function averageTime(attempts){if(attempts.length===0){return'00:00:00';}var average=attempts.reduce(function(acc,current){return acc+current.time;},0)/attempts.length;return Stopwatch({time:average,format:'home'});};var Clock=/*#__PURE__*/function(_React$Component){_inherits(Clock,_React$Component);function Clock(props){var _this;_classCallCheck(this,Clock);_this=_possibleConstructorReturn(this,_getPrototypeOf(Clock).call(this,props));_this.state={time:0,running:false,date:''};_this.toggle=_this.toggle.bind(_assertThisInitialized(_this));_this.tick=_this.tick.bind(_assertThisInitialized(_this));return _this;}_createClass(Clock,[{key:\"toggle\",value:function toggle(){if(!this.state.running){this.startTime=+new Date();this.tick();}else{var dataLocal=JSON.parse(localStorage.getItem('attempts'));if(dataLocal){dataLocal.push({time:this.state.time,date:new Date()});localStorage.setItem('attempts',JSON.stringify(dataLocal));}else{localStorage.setItem('attempts',JSON.stringify([{time:this.state.time,date:new Date()}]));}this.update(false);this.setState({time:0});clearTimeout(this.timeout);}}},{key:\"tick\",value:function tick(){this.update(true);this.timeout=setTimeout(this.tick);}},{key:\"update\",value:function update(running){this.setState({time:+new Date()-this.startTime,running:running});}},{key:\"render\",value:function render(){var classes=this.props.classes;var attempts=JSON.parse(localStorage.getItem('attempts'))||[];return React.createElement(\"div\",{className:classes.root},React.createElement(\"div\",{className:\"stopwatch\"},React.createElement(\"h1\",{style:{color:'#fff'}},\"Stopwatch\"),React.createElement(\"section\",null,React.createElement(\"div\",{style:{color:'#fff'}},React.createElement(Stopwatch,{time:this.state.time,format:\"time\"})),React.createElement(StopwatchControls,{onToggle:this.toggle,running:this.state.running})),React.createElement(\"section\",null,attempts.length>0&&React.createElement(WatchList,{attempts:attempts,format:\"home\"})),React.createElement(\"section\",{style:{display:'flex',justifyContent:'space-between',margin:'16px 0'}},React.createElement(Chip,{icon:React.createElement(DeleteIcon,null),label:\"Reset all\",clickable:true,color:\"primary\",variant:\"outlined\"}),React.createElement(Link,{to:\"/history\"},React.createElement(Chip,{icon:React.createElement(TimelineIcon,null),label:\"History\",clickable:true,color:\"primary\",variant:\"outlined\"}))),React.createElement(\"section\",{style:{display:'flex',justifyContent:'space-between'}},React.createElement(Card,{style:{background:'#333'}},React.createElement(CardContent,{className:classes.content},React.createElement(Typography,{component:\"h5\"},\"Best Time\"),React.createElement(Typography,{variant:\"subtitle1\",color:\"primary\"},bestTime(attempts)))),React.createElement(Card,{style:{background:'#333'}},React.createElement(CardContent,{className:classes.content},React.createElement(Typography,{component:\"h5\"},\"Average Time\"),React.createElement(Typography,{variant:\"subtitle1\",color:\"primary\"},averageTime(attempts)))))));}}]);return Clock;}(React.Component);export default withStyles(styles)(Clock);","map":{"version":3,"sources":["/home/discovery/Documentos/repos/work/clock--ie/src/containers/clock.jsx"],"names":["React","withStyles","Link","Card","CardContent","Chip","DeleteIcon","Fab","Typography","TimelineIcon","Stopwatch","sortByTime","WatchList","styles","theme","root","display","justifyContent","alignItems","minHeight","backgroundColor","textAlign","flexDirection","StopwatchControls","onToggle","running","bestTime","attempts","length","best","sort","format","averageTime","average","reduce","acc","current","time","Clock","props","state","date","toggle","bind","tick","startTime","Date","dataLocal","JSON","parse","localStorage","getItem","push","setItem","stringify","update","setState","clearTimeout","timeout","setTimeout","classes","color","margin","background","content","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Chip from '@material-ui/core/Chip';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Fab from '@material-ui/core/Fab';\nimport { Typography } from '@material-ui/core';\nimport TimelineIcon from '@material-ui/icons/Timeline';\n\nimport Stopwatch from '../components/time';\nimport sortByTime from '../utils/sort';\nimport WatchList from '../components/watch-list';\n\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: '100vh',\n    backgroundColor: '#000',\n    textAlign: 'center',\n    flexDirection: 'column',\n  },\n});\n\nconst StopwatchControls = ({ onToggle, running}) =>\n  <Fab onClick={onToggle}>\n    {running ? 'Stop' : 'Start'}\n  </Fab>\n\nconst bestTime = (attempts) => {\n  if (attempts.length === 0){\n    return '00:00:00';\n  }\n  const best = attempts.sort(sortByTime)[0];\n  return Stopwatch({ ...best, format: 'home' })\n}\n\nconst averageTime = (attempts) => {\n  if (attempts.length === 0){\n    return '00:00:00';\n  }\n  const average = attempts.reduce((acc, current) => acc + current.time, 0) / attempts.length;\n  return Stopwatch({ time: average, format: 'home' });\n}\n\n\nclass Clock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      time: 0,\n      running: false,\n      date: '',\n    };\n    this.toggle = this.toggle.bind(this);\n    this.tick = this.tick.bind(this);\n  }\n  toggle() {\n    if (!this.state.running) {\n      this.startTime = +new Date();\n      this.tick();\n    } else {\n      const dataLocal = JSON.parse(localStorage.getItem('attempts'));\n      if (dataLocal){\n        dataLocal.push({ time: this.state.time, date: new Date() })\n        localStorage.setItem('attempts', JSON.stringify(dataLocal));\n      } else{\n        localStorage.setItem('attempts', JSON.stringify([{ time: this.state.time, date: new Date() }]))\n      }\n      this.update(false);\n      this.setState({ time: 0 });\n      clearTimeout(this.timeout);\n    }\n  }\n  tick() {\n    this.update(true);\n    this.timeout = setTimeout(this.tick);\n  }\n  update(running) {\n    this.setState({\n      time: +new Date() - this.startTime,\n      running\n    });\n  }\n  render() {\n    const { classes } = this.props;\n    const attempts = JSON.parse(localStorage.getItem('attempts')) || [];\n    return (\n      <div className={classes.root}>\n        <div className=\"stopwatch\">\n          <h1 style={{ color: '#fff' }}>Stopwatch</h1>\n          <section>\n            <div style={{ color: '#fff'}}>\n              <Stopwatch time={this.state.time} format='time' />\n            </div>\n            <StopwatchControls onToggle={this.toggle} running={this.state.running} />\n          </section>\n          <section>\n            {attempts.length > 0 && (\n              <WatchList attempts={attempts} format='home' />\n            )}\n          </section>\n          <section style={{ display: 'flex', justifyContent: 'space-between', margin: '16px 0' }}>\n            <Chip\n                icon={<DeleteIcon />}\n                label=\"Reset all\"\n                clickable\n                color=\"primary\"\n                variant=\"outlined\"\n              />\n            <Link to={`/history`}>\n              <Chip\n                icon={<TimelineIcon />}\n                label=\"History\"\n                clickable\n                color=\"primary\"\n                variant=\"outlined\"\n              />\n            </Link>\n          </section>\n          <section style={{ display: 'flex', justifyContent: 'space-between' }}>\n            <Card style={{ background: '#333' }}>\n              <CardContent className={classes.content}>\n                <Typography component=\"h5\">\n                  Best Time\n                </Typography>\n                <Typography variant=\"subtitle1\" color=\"primary\">\n                  {bestTime(attempts)}\n                </Typography>\n              </CardContent>\n            </Card>\n            <Card style={{ background: '#333' }}>\n              <CardContent className={classes.content}>\n                <Typography component=\"h5\">\n                  Average Time\n                </Typography>\n                <Typography variant=\"subtitle1\" color=\"primary\">\n                  {averageTime(attempts)}\n                </Typography>\n              </CardContent>\n            </Card>\n          </section>\n        </div>\n      </div>\n    );\n  }\n}\n\nClock.propTypes = {\n  classes: PropTypes.shape({\n    root: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\n\nexport default withStyles(styles)(Clock);\n"]},"metadata":{},"sourceType":"module"}