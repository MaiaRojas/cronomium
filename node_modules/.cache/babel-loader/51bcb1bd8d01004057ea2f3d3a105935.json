{"ast":null,"code":"import _classCallCheck from\"/home/discovery/Documentos/repos/work/clock--ie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/discovery/Documentos/repos/work/clock--ie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/discovery/Documentos/repos/work/clock--ie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/discovery/Documentos/repos/work/clock--ie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/discovery/Documentos/repos/work/clock--ie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/discovery/Documentos/repos/work/clock--ie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';// import PropTypes from 'prop-types';\nimport{withStyles}from'@material-ui/core/styles';import{Link}from'react-router-dom';import Paper from'@material-ui/core/Paper';import Fab from'@material-ui/core/Fab';import ListSubheader from'@material-ui/core/ListSubheader';import List from'@material-ui/core/List';import Card from'@material-ui/core/Card';import CardContent from'@material-ui/core/CardContent';import Chip from'@material-ui/core/Chip';import TimelineIcon from'@material-ui/icons/Timeline';import{Typography}from'@material-ui/core';import WatchList from'../components/watch-list';import Stopwatch from'../components/time';import sortByTime from'../utils/sort';var styles=function styles(theme){return{bebe:{fontSize:32},root:{display:'flex',justifyContent:'center',alignItems:'center',minHeight:'100vh',backgroundColor:'#333',textAlign:'center',flexDirection:'column'},paper:{margin:theme.spacing(4),padding:\"\".concat(theme.spacing(3),\"px \").concat(theme.spacing(4),\"px \").concat(theme.spacing(4),\"px\"),width:'100%',maxWidth:theme.leftDrawerWidth},contentLogo:{width:'100%',maxWidth:theme.leftDrawerWidth},logo:{width:'100%',display:'block',margin:\"0 auto \".concat(theme.spacing(1),\"px\")}};};var StopwatchControls=function StopwatchControls(_ref){var onToggle=_ref.onToggle,running=_ref.running;return React.createElement(Fab,{onClick:onToggle},running?'STOP':'START');};var bestTime=function bestTime(attempts){if(attempts.length===0){return'00:00:00';}return Stopwatch(attempts.sort(sortByTime)[0]);};var AverageTime=function AverageTime(attempts){if(attempts.length===0){return'00:00:00';}var average=attempts.reduce(function(acc,current){return acc+current.time;},0)/attempts.length;return Stopwatch({time:average});};var Clock=/*#__PURE__*/function(_React$Component){_inherits(Clock,_React$Component);function Clock(props){var _this;_classCallCheck(this,Clock);_this=_possibleConstructorReturn(this,_getPrototypeOf(Clock).call(this,props));_this.state={time:0,running:false,date:''};_this.toggle=_this.toggle.bind(_assertThisInitialized(_this));_this.tick=_this.tick.bind(_assertThisInitialized(_this));return _this;}_createClass(Clock,[{key:\"toggle\",value:function toggle(){if(!this.state.running){this.startTime=+new Date();this.tick();}else{var dataLocal=JSON.parse(localStorage.getItem('attempts'));if(dataLocal){dataLocal.push({time:this.state.time,date:new Date()});localStorage.setItem('attempts',JSON.stringify(dataLocal));}else{localStorage.setItem('attempts',JSON.stringify([{time:this.state.time,date:new Date()}]));}this.update(false);this.setState({time:0});clearTimeout(this.timeout);}}},{key:\"tick\",value:function tick(){this.update(true);this.timeout=setTimeout(this.tick);}},{key:\"update\",value:function update(running){this.setState({time:+new Date()-this.startTime,running:running});}},{key:\"render\",value:function render(){var classes=this.props.classes;var attempts=JSON.parse(localStorage.getItem('attempts'))||[];return React.createElement(\"div\",{className:classes.root},React.createElement(\"div\",{className:\"stopwatch\"},React.createElement(Stopwatch,{time:this.state.time,done:\"time\"}),React.createElement(StopwatchControls,{onToggle:this.toggle,running:this.state.running}),React.createElement(Paper,null,React.createElement(List,{component:\"nav\",subheader:React.createElement(ListSubheader,{component:\"div\",id:\"nested-list-subheader\"},\"Intento de Vueltas\")},WatchList(attempts))),React.createElement(Paper,null,React.createElement(Link,{to:\"/history\"},React.createElement(Chip,{icon:React.createElement(TimelineIcon,null),label:\"History\",clickable:true,color:\"primary\",variant:\"outlined\"})),React.createElement(React.Fragment,null,React.createElement(Card,null,React.createElement(CardContent,{className:classes.content},React.createElement(Typography,{component:\"h5\",variant:\"h5\"},\"Best Time\"),React.createElement(Typography,{variant:\"subtitle1\",color:\"textSecondary\"},bestTime(attempts)))),React.createElement(Card,null,React.createElement(CardContent,{className:classes.content},React.createElement(Typography,{component:\"h5\"},\"Average Time\"),React.createElement(Typography,{variant:\"subtitle1\",color:\"textSecondary\"},AverageTime(attempts))))))));}}]);return Clock;}(React.Component);// Clock.propTypes = {\n// };\nexport default withStyles(styles)(Clock);","map":{"version":3,"sources":["/home/discovery/Documentos/repos/work/clock--ie/src/containers/clock.jsx"],"names":["React","withStyles","Link","Paper","Fab","ListSubheader","List","Card","CardContent","Chip","TimelineIcon","Typography","WatchList","Stopwatch","sortByTime","styles","theme","bebe","fontSize","root","display","justifyContent","alignItems","minHeight","backgroundColor","textAlign","flexDirection","paper","margin","spacing","padding","width","maxWidth","leftDrawerWidth","contentLogo","logo","StopwatchControls","onToggle","running","bestTime","attempts","length","sort","AverageTime","average","reduce","acc","current","time","Clock","props","state","date","toggle","bind","tick","startTime","Date","dataLocal","JSON","parse","localStorage","getItem","push","setItem","stringify","update","setState","clearTimeout","timeout","setTimeout","classes","content","Component"],"mappings":"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","sourcesContent":["import React from 'react';\n// import PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport Paper from '@material-ui/core/Paper';\nimport Fab from '@material-ui/core/Fab';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport List from '@material-ui/core/List';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Chip from '@material-ui/core/Chip';\n\nimport TimelineIcon from '@material-ui/icons/Timeline';\nimport { Typography } from '@material-ui/core';\n\nimport WatchList from '../components/watch-list';\nimport Stopwatch from '../components/time';\nimport sortByTime from '../utils/sort';\n\n\nconst styles = theme => ({\n  bebe: {\n    fontSize: 32,\n  },\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: '100vh',\n    backgroundColor: '#333',\n    textAlign: 'center',\n    flexDirection: 'column',\n  },\n  paper: {\n    margin: theme.spacing(4),\n    padding: `${theme.spacing(3)}px ${theme.spacing(4)}px ${theme.spacing(4)}px`,\n    width: '100%',\n    maxWidth: theme.leftDrawerWidth,\n  },\n  contentLogo: {\n    width: '100%',\n    maxWidth: theme.leftDrawerWidth,\n  },\n  logo: {\n    width: '100%',\n    display: 'block',\n    margin: `0 auto ${theme.spacing(1)}px`,\n  },\n});\n\nconst StopwatchControls = ({ onToggle, running}) =>\n  <Fab onClick={onToggle}>\n    {running ? 'STOP' : 'START'}\n  </Fab>\n\nconst bestTime = (attempts) => {\n  if (attempts.length === 0){\n    return '00:00:00';\n  }\n  return Stopwatch(attempts.sort(sortByTime)[0])\n}\n\nconst AverageTime = (attempts) => {\n  if (attempts.length === 0){\n    return '00:00:00';\n  }\n  const average = attempts.reduce((acc, current) => acc + current.time, 0) / attempts.length;\n  return Stopwatch({ time: average });\n}\n\n\nclass Clock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      time: 0,\n      running: false,\n      date: '',\n    };\n    this.toggle = this.toggle.bind(this);\n    this.tick = this.tick.bind(this);\n  }\n  toggle() {\n    if (!this.state.running) {\n      this.startTime = +new Date();\n      this.tick();\n    } else {\n      const dataLocal = JSON.parse(localStorage.getItem('attempts'));\n      if (dataLocal){\n        dataLocal.push({ time: this.state.time, date: new Date() })\n        localStorage.setItem('attempts', JSON.stringify(dataLocal));\n      } else{\n        localStorage.setItem('attempts', JSON.stringify([{ time: this.state.time, date: new Date() }]))\n      }\n      this.update(false);\n      this.setState({ time: 0 });\n      clearTimeout(this.timeout);\n    }\n  }\n  tick() {\n    this.update(true);\n    this.timeout = setTimeout(this.tick);\n  }\n  update(running) {\n    this.setState({\n      time: +new Date() - this.startTime,\n      running\n    });\n  }\n  render() {\n    const { classes } = this.props;\n    const attempts = JSON.parse(localStorage.getItem('attempts')) || [];\n    return (\n      <div className={classes.root}>\n        <div className=\"stopwatch\">\n          <Stopwatch time={this.state.time} done='time' />\n          <StopwatchControls onToggle={this.toggle} running={this.state.running} />\n          <Paper>\n            <List\n              component=\"nav\"\n              subheader={\n                <ListSubheader component=\"div\" id=\"nested-list-subheader\">\n                  Intento de Vueltas\n                </ListSubheader>\n              }\n            >\n              {WatchList(attempts)}\n            </List>\n          </Paper>\n          <Paper>\n            <Link to={`/history`}>\n              <Chip\n                icon={<TimelineIcon />}\n                label=\"History\"\n                clickable\n                color=\"primary\"\n                variant=\"outlined\"\n              />\n            </Link>\n            <>\n              <Card>\n                <CardContent className={classes.content}>\n                  <Typography component=\"h5\" variant=\"h5\">\n                    Best Time\n                  </Typography>\n                  <Typography variant=\"subtitle1\" color=\"textSecondary\">\n                    {bestTime(attempts)}\n                  </Typography>\n                </CardContent>\n              </Card>\n              <Card>\n                <CardContent className={classes.content}>\n                  <Typography component=\"h5\">\n                    Average Time\n                  </Typography>\n                  <Typography variant=\"subtitle1\" color=\"textSecondary\">\n                    {AverageTime(attempts)}\n                  </Typography>\n                </CardContent>\n              </Card>\n            </>\n          </Paper>\n        </div>\n      </div>\n    );\n  }\n}\n\n// Clock.propTypes = {\n\n// };\n\n\nexport default withStyles(styles)(Clock);\n"]},"metadata":{},"sourceType":"module"}