{"ast":null,"code":"var _jsxFileName = \"/home/discovery/Documentos/repos/work/clock--ie/src/containers/clock.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport Chip from '@material-ui/core/Chip';\nimport Fab from '@material-ui/core/Fab';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Stopwatch from '../components/time';\nimport sortByTime from '../utils/sort';\nimport WatchList from '../components/watch-list';\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: '100vh',\n    backgroundColor: '#000',\n    textAlign: 'center',\n    flexDirection: 'column'\n  },\n  list: {\n    textAlign: 'center'\n  },\n  primary: {\n    color: '#FFF',\n    fontWeight: '700',\n    fontSize: theme.typography.fontSize,\n    lineHeight: '125%'\n  },\n  secondary: {\n    color: '#FFF',\n    fontSize: '14px'\n  },\n  delete: {\n    backgroundColor: '#E7A997',\n    '&:hover': {\n      backgroundColor: '#E7A997 !important'\n    }\n  },\n  history: {\n    backgroundColor: '#97E7DB',\n    '&:hover': {\n      backgroundColor: '#97E7DB !important'\n    }\n  },\n  section: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    backgroundColor: '#333'\n  },\n  button: {\n    width: 80,\n    height: 80,\n    textTransform: 'none',\n    backgroundColor: '#97E7DB'\n  }\n});\n\nconst bestTime = attempts => attempts.sort(sortByTime)[0].time;\n\nconst averageTime = attempts => attempts.reduce((acc, current) => acc + current.time, 0) / attempts.length;\n\nclass Clock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      time: 0,\n      running: false,\n      date: ''\n    };\n    this.toggle = this.toggle.bind(this);\n    this.tick = this.tick.bind(this);\n  }\n\n  toggle() {\n    if (!this.state.running) {\n      this.startTime = Date.now();\n      this.tick();\n    } else {\n      const dataLocal = JSON.parse(localStorage.getItem('attempts'));\n\n      if (dataLocal) {\n        dataLocal.push({\n          time: this.state.time,\n          date: new Date()\n        });\n        localStorage.setItem('attempts', JSON.stringify(dataLocal));\n      } else {\n        localStorage.setItem('attempts', JSON.stringify([{\n          time: this.state.time,\n          date: new Date()\n        }]));\n      }\n\n      this.update(false);\n      this.setState({\n        time: 0\n      });\n      clearTimeout(this.timeout);\n    }\n  }\n\n  tick() {\n    this.update(true);\n    this.timeout = setTimeout(this.tick);\n  }\n\n  update(running) {\n    this.setState({\n      time: Date.now() - this.startTime,\n      running\n    });\n  }\n\n  resetAll() {\n    localStorage.removeItem('attempts');\n  }\n\n  render() {\n    const classes = this.props.classes;\n    const attempts = JSON.parse(localStorage.getItem('attempts')) || [];\n    return React.createElement(\"div\", {\n      className: classes.root,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"stopwatch\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      style: {\n        color: '#97E7DB'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Cronomium\"), React.createElement(\"section\", {\n      style: {\n        height: 200\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        color: '#fff'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(Stopwatch, {\n      time: this.state.time,\n      format: \"time\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    })), React.createElement(Fab, {\n      className: classes.button,\n      onClick: this.toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, this.state.running ? 'Stop' : 'Start')), React.createElement(\"section\", {\n      className: classes.section,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(ListItem, {\n      style: {\n        padding: 0\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(ListItemText, {\n      classes: {\n        root: classes.list,\n        primary: classes.primary,\n        secondary: classes.secondary\n      },\n      primary: \"Best Time\",\n      secondary: attempts.length > 0 ? React.createElement(Stopwatch, {\n        time: bestTime(attempts),\n        format: \"home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }) : '00:00:00',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    })), React.createElement(ListItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(ListItemText, {\n      classes: {\n        root: classes.list,\n        primary: classes.primary,\n        secondary: classes.secondary\n      },\n      primary: \"Average Time\",\n      secondary: attempts.length > 0 ? React.createElement(Stopwatch, {\n        time: averageTime(attempts),\n        format: \"home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }) : '00:00:00',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }))), React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, attempts.length > 0 && React.createElement(WatchList, {\n      attempts: attempts,\n      format: \"home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    })), React.createElement(\"section\", {\n      className: classes.section,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: `/`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(Chip, {\n      label: \"Reset all\",\n      clickable: true,\n      onClick: this.resetAll,\n      classes: {\n        root: classes.delete\n      },\n      variant: \"outlined\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    })), React.createElement(Link, {\n      to: `/history`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(Chip, {\n      label: \"History\",\n      clickable: true,\n      classes: {\n        root: classes.history\n      },\n      variant: \"outlined\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nClock.propTypes = {\n  classes: PropTypes.shape({\n    root: PropTypes.string.isRequired\n  }).isRequired\n};\nexport default withStyles(styles)(Clock);","map":{"version":3,"sources":["/home/discovery/Documentos/repos/work/clock--ie/src/containers/clock.jsx"],"names":["React","PropTypes","withStyles","Link","Chip","Fab","ListItem","ListItemText","Stopwatch","sortByTime","WatchList","styles","theme","root","display","justifyContent","alignItems","minHeight","backgroundColor","textAlign","flexDirection","list","primary","color","fontWeight","fontSize","typography","lineHeight","secondary","delete","history","section","button","width","height","textTransform","bestTime","attempts","sort","time","averageTime","reduce","acc","current","length","Clock","Component","constructor","props","state","running","date","toggle","bind","tick","startTime","Date","now","dataLocal","JSON","parse","localStorage","getItem","push","setItem","stringify","update","setState","clearTimeout","timeout","setTimeout","resetAll","removeItem","render","classes","padding","propTypes","shape","string","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport Chip from '@material-ui/core/Chip';\nimport Fab from '@material-ui/core/Fab';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\n\nimport Stopwatch from '../components/time';\nimport sortByTime from '../utils/sort';\nimport WatchList from '../components/watch-list';\n\n\nconst styles = (theme)=> ({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: '100vh',\n    backgroundColor: '#000',\n    textAlign: 'center',\n    flexDirection: 'column',\n  },\n  list: {\n    textAlign: 'center',\n  },\n  primary: {\n    color: '#FFF',\n    fontWeight: '700',\n    fontSize: theme.typography.fontSize,\n    lineHeight: '125%',\n  },\n  secondary: {\n    color: '#FFF',\n    fontSize: '14px',\n  },\n  delete: {\n    backgroundColor: '#E7A997',\n    '&:hover': {\n      backgroundColor: '#E7A997 !important',\n    },\n  },\n  history: {\n    backgroundColor: '#97E7DB',\n    '&:hover': {\n      backgroundColor: '#97E7DB !important',\n    },\n  },\n  section: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    backgroundColor: '#333',\n  },\n  button: {\n    width: 80,\n    height: 80,\n    textTransform: 'none',\n    backgroundColor: '#97E7DB',\n  }\n});\n\nconst bestTime = (attempts) => attempts.sort(sortByTime)[0].time;\n\nconst averageTime = (attempts) => attempts\n    .reduce((acc, current) => acc + current.time, 0) / attempts.length\n\nclass Clock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      time: 0,\n      running: false,\n      date: '',\n    };\n    this.toggle = this.toggle.bind(this);\n    this.tick = this.tick.bind(this);\n  }\n  toggle() {\n    if (!this.state.running) {\n      this.startTime = Date.now();\n      this.tick();\n    } else {\n      const dataLocal = JSON.parse(localStorage.getItem('attempts'));\n      if (dataLocal){\n        dataLocal.push({ time: this.state.time, date: new Date() })\n        localStorage.setItem('attempts', JSON.stringify(dataLocal));\n      } else{\n        localStorage.setItem('attempts', JSON.stringify([{ time: this.state.time, date: new Date() }]))\n      }\n      this.update(false);\n      this.setState({ time: 0 });\n      clearTimeout(this.timeout);\n    }\n  }\n  tick() {\n    this.update(true);\n    this.timeout = setTimeout(this.tick);\n  }\n  update(running) {\n    this.setState({\n      time: Date.now() - this.startTime,\n      running\n    });\n  }\n  resetAll () {\n    localStorage.removeItem('attempts')\n  }\n  render() {\n    const { classes } = this.props;\n    const attempts = JSON.parse(localStorage.getItem('attempts')) || [];\n    return (\n      <div className={classes.root}>\n        <div className=\"stopwatch\">\n          <h2 style={{ color: '#97E7DB' }}>Cronomium</h2>\n          <section style={{ height: 200 }}>\n            <div style={{ color: '#fff'}}>\n              <Stopwatch time={this.state.time} format='time' />\n            </div>\n            <Fab className={classes.button} onClick={this.toggle}>\n              {this.state.running ? 'Stop' : 'Start'}\n            </Fab>\n          </section>\n\n          <section className={classes.section}>\n            <ListItem style={{ padding: 0 }}>\n              <ListItemText\n                classes={{\n                  root: classes.list,\n                  primary: classes.primary,\n                  secondary: classes.secondary,\n                }}\n                primary='Best Time'\n                secondary={attempts.length > 0\n                  ? <Stopwatch time={bestTime(attempts)} format='home' />\n                  : '00:00:00'\n                }\n              />\n            </ListItem>\n            <ListItem>\n              <ListItemText\n                classes={{\n                  root: classes.list,\n                  primary: classes.primary,\n                  secondary: classes.secondary,\n                }}\n                primary='Average Time'\n                secondary={attempts.length > 0\n                  ? <Stopwatch time={averageTime(attempts)} format='home' />\n                  : '00:00:00'\n                }\n              />\n            </ListItem>\n          </section>\n\n          <section>\n            {attempts.length > 0 && (\n              <WatchList attempts={attempts} format='home' />\n            )}\n          </section>\n\n          <section className={classes.section}>\n            <Link to={`/`}>\n              <Chip\n                label=\"Reset all\"\n                clickable\n                onClick={this.resetAll}\n                classes={{\n                  root: classes.delete\n                }}\n                variant=\"outlined\"\n              />\n            </Link>\n            <Link to={`/history`}>\n              <Chip\n                label=\"History\"\n                clickable\n                classes={{\n                  root: classes.history\n                }}\n                variant=\"outlined\"\n              />\n            </Link>\n          </section>\n        </div>\n      </div>\n    );\n  }\n}\n\nClock.propTypes = {\n  classes: PropTypes.shape({\n    root: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\n\nexport default withStyles(styles)(Clock);\n"]},"metadata":{},"sourceType":"module"}